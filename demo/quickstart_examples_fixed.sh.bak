#!/bin/bash

# EcoAgent Demo - Quick Start Examples
# This script demonstrates various EcoAgent features
# Set up environment variables
export ECOAGENT_DB_PATH=${ECOAGENT_DB_PATH:-./ecoagent.db}
export PYTHONPATH=${PYTHONPATH:-.}
echo "Using database: $ECOAGENT_DB_PATH"
echo ""# Run with: bash demo/quickstart_examples.sh

set -e

echo "üå± EcoAgent Demo - Quick Start Examples"
echo "======================================="
echo ""

# Check if uv is installed
if ! command -v uv &> /dev/null; then
    echo "‚ùå Error: 'uv' is not installed"
    echo "Install it with: curl -LsSf https://astral.sh/uv/install.sh | sh"
    exit 1
fi

# Example 1: Carbon Calculation
echo "1Ô∏è‚É£  Running Carbon Footprint Calculation..."
echo "   Command: uv run python -m ecoagent.cli carbon --transportation.miles_driven 500 --transportation.vehicle_mpg 25"
echo ""
uv run python -m ecoagent.cli carbon --transportation.miles_driven 500 --transportation.vehicle_mpg 25
echo ""
sleep 2

# Example 2: Carbon with flights
echo "2Ô∏è‚É£  Running Carbon Calculation with Flights..."
echo "   Command: uv run python -m ecoagent.cli carbon --transportation.miles_driven 300 --flight.miles_flown 2000"
echo ""
uv run python -m ecoagent.cli carbon --transportation.miles_driven 300 --flight.miles_flown 2000
echo ""
sleep 2

# Example 3: Carbon with energy
echo "3Ô∏è‚É£  Running Carbon Calculation with Home Energy..."
echo "   Command: uv run python -m ecoagent.cli carbon --energy.kwh_used 800 --energy.renewable_ratio 0.25"
echo ""
uv run python -m ecoagent.cli carbon --energy.kwh_used 800 --energy.renewable_ratio 0.25
echo ""
sleep 2

# Example 4: Recommendations
echo "4Ô∏è‚É£  Getting Sustainability Recommendations..."
echo "   Command: uv run python -m ecoagent.cli recommend --profile.location 'San Francisco' --profile.diet vegetarian"
echo ""
uv run python -m ecoagent.cli recommend --profile.location "San Francisco" --profile.diet vegetarian
echo ""
sleep 2

# Example 5: Goal Tracking
echo "5Ô∏è‚É£  Tracking a Sustainability Goal..."
echo "   Command: uv run python -m ecoagent.cli track --goal 'Reduce carbon by 20%' --target_value 20.0"
echo ""
uv run python -m ecoagent.cli track --goal "Reduce carbon by 20%" --target_value 20.0
echo ""
sleep 2

# Example 6: Profile
echo "6Ô∏è‚É£  Viewing User Profile..."
echo "   Command: uv run python -m ecoagent.cli profile --action get"
echo ""
uv run python -m ecoagent.cli profile --action get
echo ""
sleep 2

# Example 7: System Info
echo "7Ô∏è‚É£  Showing System Information..."
echo "   Command: uv run python -m ecoagent.cli info"
echo ""
uv run python -m ecoagent.cli info
echo ""

echo "‚úÖ All examples completed!"
echo ""
echo "üìö Next Steps:"
echo "   1. Try interactive chat: uv run python -m ecoagent.cli chat"
echo "   2. Run interactive demo: uv run python demo/interactive_demo.py"
echo "   3. Start the API server: uv run python -m ecoagent.cli serve"
echo ""
echo "Happy sustainable living! üåç"
